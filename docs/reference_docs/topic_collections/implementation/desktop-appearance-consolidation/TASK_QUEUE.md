# Desktop Appearance Consolidation Task Queue

**Last updated:** 2026-02-17  
**Workstream root:** `/Users/foundbrand_001/Development/vc83-com/docs/reference_docs/topic_collections/implementation/desktop-appearance-consolidation`  
**Source plan:** `/Users/foundbrand_001/Development/vc83-com/docs/reference_docs/topic_collections/implementation/desktop-appearance-consolidation-plan.md`

---

## Queue rules

1. Allowed statuses are only: `READY`, `IN_PROGRESS`, `PENDING`, `BLOCKED`, `DONE`.
2. Only one task may be `IN_PROGRESS` at a time globally unless concurrency rules explicitly allow one per lane.
3. Promote a task from `PENDING` to `READY` only when all dependencies are `DONE`.
4. Selection order is deterministic: highest priority (`P0` -> `P1` -> `P2`) then lowest task ID.
5. If a task is `BLOCKED`, add an entry to `BLOCKERS.md` and continue with the next `READY` task.
6. Every task must include explicit verification commands before it can be set to `DONE`.
7. Keep lane ownership strict to minimize merge conflicts.
8. Update `INDEX.md`, `MASTER_PLAN.md`, and this queue after each completed task.

---

## Verification profiles

| Profile | Command |
|---|---|
| `V-TYPE` | `npm run typecheck` |
| `V-LINT` | `npm run lint` |
| `V-UNIT` | `npm run test:unit` |
| `V-DOCS` | `npm run docs:guard` |
| `V-APPEARANCE` | `npx vitest run tests/unit/appearance` |
| `V-FINDER` | `npx vitest run tests/unit/finder` |

---

## Execution lanes

| Lane | Purpose | Primary ownership | Merge-overlap policy |
|---|---|---|---|
| `A` | Appearance foundation + compatibility bridge | `src/contexts/*`, `src/app/providers.tsx` | No edits to `globals.css` or settings UI until Lane A foundation is done |
| `B` | Typography and root layout alignment | `src/app/layout.tsx`, `src/app/builder/layout.tsx`, `src/app/layers/layout.tsx` | No Convex schema changes |
| `C` | User-facing settings and desktop toggle behavior | `src/components/window-content/settings-window.tsx`, `src/app/page.tsx`, `src/components/theme-toggle.tsx` | No direct schema edits; consume Lane A APIs |
| `D` | Token convergence and shell CSS de-bloat | `src/app/globals.css`, desktop/floating/window primitives | No provider/schema edits |
| `E` | Backend preference migration and dual-read/write safety | `convex/userPreferences.ts`, `convex/schemas/coreSchemas.ts`, `convex/migrations/*` | No UI/CSS edits except typed contract wiring |
| `F` | Hardening, deletion pass, and final verification | cross-cutting cleanup + docs | Only after lanes B/C/D/E are stable |
| `G` | PostHog-inspired desktop polish (top nav, menus, white window surfaces, icon system, motion) | `src/app/page.tsx`, shell/window/menu/icon components, motion config | No schema or appearance-mode contract changes; dark/sepia only |
| `H` | Window-by-window interior control cleanup (remove Win95 internals from forms/buttons/panels/tabs) | `src/components/window-content/*`; shared interior primitives/tokens | No schema/preference contract changes; dark/sepia only; preserve translation key/namespace integrity |

---

## Concurrency rules

1. Run Lane `A` only until `DAC-003` is `DONE`.
2. After `DAC-003`, run lanes `B`, `C`, and `E` in parallel (max one `IN_PROGRESS` task per lane).
3. Lane `D` starts only after `DAC-005` and `DAC-007` are `DONE`.
4. Lane `F` starts only after all `P0` and `P1` tasks are `DONE` or explicitly `BLOCKED`.
5. If a lane touches a file owned by another active lane, pause and re-queue to avoid conflict.
6. Lane `G` starts after `DAC-015` and runs one task at a time due shared shell file ownership.
7. Lane `H` starts only after `DAC-018` is `DONE` and runs one task at a time due shared window-content ownership.

---

## Task queue

| ID | Lane | Plan | Priority | Status | Depends On | Task | Primary files | Verify | Notes |
|---|---|---:|---|---|---|---|---|---|---|
| `DAC-001` | `A` | 1 | `P0` | `DONE` | - | Create `AppearanceContext` with `dark/sepia`, `reading-mode` persistence, and old-localStorage key migration helpers | `src/contexts/appearance-context.tsx` | `npm run typecheck`; `npm run lint -- src/contexts/appearance-context.tsx` | Done 2026-02-17: added `AppearanceProvider` contract (`mode`, `setMode`, `toggleMode`), `reading-mode` restore/persist, legacy `l4yercak3-theme` migration helpers, and root mode class/attribute application. |
| `DAC-002` | `A` | 1 | `P0` | `DONE` | `DAC-001` | Wire `AppearanceProvider` into app providers and add temporary compatibility adapter for current `useTheme` consumers | `src/app/providers.tsx`; `src/contexts/theme-context.tsx`; `src/contexts/appearance-context.tsx` | `npm run typecheck`; `npm run lint -- src/app/providers.tsx src/contexts/theme-context.tsx` | Done 2026-02-17: wrapped providers with `AppearanceProvider` and bridged `ThemeProvider` to read/write appearance mode while preserving `useTheme` API (`currentTheme`, `setTheme`, `windowStyle`, `setWindowStyle`). |
| `DAC-003` | `A` | 1 | `P0` | `DONE` | `DAC-002` | Add unit tests for mode restore, localStorage migration mapping, and toggle behavior | `tests/unit/appearance/appearance-context.test.ts`; `src/contexts/appearance-context.tsx` | `npx vitest run tests/unit/appearance/appearance-context.test.ts`; `npm run typecheck` | Done 2026-02-17: added focused unit tests for `reading-mode` restore precedence, legacy theme migration (`dark` vs `sepia`), and toggle behavior. |
| `DAC-004` | `B` | 2 | `P1` | `DONE` | `DAC-003` | Update root layout fonts to Geist/Geist Mono/Instrument Serif and body rendering contract | `src/app/layout.tsx` | `npm run typecheck`; `npm run lint -- src/app/layout.tsx` | Done 2026-02-17: root layout now loads Geist + Geist Mono + Instrument Serif (normal+italic) and keeps metadata untouched; body uses `font-sans` + `antialiased` + `fontSynthesis:none` while preserving pixel font variable for retro shell affordances. Risks monitored: body font precedence against global CSS, retro font fallback regressions, hydration class mismatch on first paint. |
| `DAC-005` | `B` | 2 | `P1` | `DONE` | `DAC-004` | Align `/builder` and `/layers` route layouts with global typography contract and remove conflicting local wrappers | `src/app/builder/layout.tsx`; `src/app/layers/layout.tsx` | `npm run typecheck`; `npm run lint -- src/app/builder/layout.tsx src/app/layers/layout.tsx` | Done 2026-02-17: removed `/builder` local Playfair/DM Sans wrapper fonts and removed `/layers` forced `dark` wrapper; preserved route-specific backgrounds (`#18181b` and `#09090b`). Risks monitored: `/builder/[projectId]` nested font divergence, sepia-mode contrast on fixed dark backgrounds, viewport/scroll behavior drift after wrapper simplification. |
| `DAC-006` | `C` | 3 | `P1` | `DONE` | `DAC-003` | Replace settings appearance controls with `dark/sepia` toggle and remove multi-theme/window-style picker UX | `src/components/window-content/settings-window.tsx` | `npm run typecheck`; `npm run lint -- src/components/window-content/settings-window.tsx` | Done 2026-02-17: replaced Appearance tab with `dark/sepia` selector wired to `AppearanceContext` apply/reset flow and removed window-style/theme family picker UI while keeping wallpaper + region behavior intact. Risks monitored: mode apply/reset now bypasses legacy theme-id defaults, Convex settings query uses a local TS2589 workaround that can mask contract drift, and users no longer have a settings entry point for window-style selection. |
| `DAC-007` | `C` | 3 | `P1` | `DONE` | `DAC-006` | Remove home/theme-family toggle logic and update top-level toggle components to new appearance contract | `src/app/page.tsx`; `src/components/theme-toggle.tsx` | `npm run typecheck`; `npm run lint -- src/app/page.tsx src/components/theme-toggle.tsx` | Done 2026-02-17: swapped desktop/mobile taskbar toggle logic to `AppearanceContext` (`dark/sepia`) and updated `ThemeToggle` to a mode toggle button instead of a theme list. Risks monitored: taskbar alignment now assumes toggle availability, appearance-mode bridging in `ThemeProvider` may shift legacy themes to fallback pairings, and any callers expecting the old per-theme dropdown behavior from `ThemeToggle` will regress. |
| `DAC-008` | `E` | 5 | `P1` | `DONE` | `DAC-003` | Add `appearanceMode` field in `userPreferences` schema and implement dual-read/write in `get` + `update` | `convex/schemas/coreSchemas.ts`; `convex/userPreferences.ts` | `npm run typecheck`; `npm run lint -- convex/schemas/coreSchemas.ts convex/userPreferences.ts` | Done 2026-02-17: added optional `appearanceMode` schema contract and implemented deterministic dual-read/write in `userPreferences.get` + `update`, including legacy fallback mapping and compatibility writes for `themeId/windowStyle`. Verify: `npm run typecheck` passed; `npm run lint -- convex/schemas/coreSchemas.ts convex/userPreferences.ts` passed with existing repository-wide warnings. Risks monitored: mode-precedence drift between canonical and legacy fields, stale legacy fields when canonical mode is updated, and default-mode mismatch for users without persisted preferences. |
| `DAC-009` | `E` | 5 | `P1` | `DONE` | `DAC-008` | Add backfill migration task mapping `themeId/windowStyle` to `appearanceMode` with deterministic defaults | `convex/migrations/backfillUserAppearanceMode.ts`; `convex/userPreferences.ts` | `npm run typecheck`; `npx vitest run tests/unit/ai/userPreferences.appearance.test.ts` | Done 2026-02-17: added idempotent paginated migration `backfillUserAppearanceMode` to patch missing/invalid canonical modes from legacy fields and added focused helper tests in `tests/unit/ai/userPreferences.appearance.test.ts`. Verify: `npm run typecheck` passed; `npx vitest run tests/unit/ai/userPreferences.appearance.test.ts` passed (6 tests). Risks monitored: repeated writes when rerunning migration, incorrect fallback when `themeId` is absent and only `windowStyle` exists, and divergence between migration mapping and runtime dual-read logic. |
| `DAC-010` | `D` | 4 | `P1` | `DONE` | `DAC-005`, `DAC-007` | Introduce tokenized dark + sepia layers in `globals.css` using unified mode selectors | `src/app/globals.css` | `npm run typecheck`; `npm run lint` | Done 2026-02-17: replaced split `:root`/`.dark` theme maps with unified mode selectors (`:root.dark`, `:root.sepia`, `data-reading-mode`) and added shared dark/sepia token layers plus shell/Finder variables (`--win95-highlight-bg`, `--error-red`, selection + resize-grip tokens). Verify: `npm run typecheck` passed; `npm run lint` passed with existing repository-wide warnings. Risks monitored: theme-provider inline variable writes can override mode-layer intent, sepia contrast drift in shell text/border pairs, and legacy components relying on newly defined fallback vars changing appearance. |
| `DAC-011` | `D` | 4 | `P1` | `DONE` | `DAC-010` | Remove `data-window-style` branching and freeze canonical Windows shell style | `src/app/globals.css`; `src/components/retro-window.tsx`; `src/components/floating-window.tsx` | `npm run typecheck`; `npm run lint` | Done 2026-02-17: removed all `data-window-style` CSS selectors, kept a single shell chrome contract (`window-corners`, `window-titlebar-corners`, canonical control/button styling), dropped `dark:retro-window-dark` usage from `RetroWindow`, and moved floating resize-grip styling to tokenized CSS var (`--window-resize-grip`) without changing drag/resize logic. Verify: `npm run typecheck` passed; `npm run lint` passed with existing repository-wide warnings. Risks monitored: control icon alignment drift after style unification, start-menu/window overflow behavior when branch-specific overrides were removed, and visual drag affordance changes that could make resize hit-targets feel less obvious. |
| `DAC-012` | `D` | 4 | `P1` | `DONE` | `DAC-011` | Finder and desktop shell parity pass for sepia/dark token coverage and edge states | `src/components/window-content/finder-window/index.tsx`; `src/app/page.tsx`; `src/app/globals.css` | `npm run typecheck`; `npx vitest run tests/unit/finder`; `npm run lint` | Done 2026-02-17: added desktop/Finder parity utility classes in `globals.css`, switched taskbar/action chips to tokenized shell classes in `page.tsx`, and wired Finder container/sidebar/preview splitter to shared shell classes for dark+sepia contrast consistency. Added `tests/unit/finder/desktop-appearance-parity.test.ts` so Finder verification is deterministic. Verify: `npm run typecheck` passed; `npx vitest run tests/unit/finder` passed (2 tests); `npm run lint` passed with existing repository-wide warnings. Risks monitored: selected-state color collisions between Finder accent text and accent backgrounds, taskbar warning chip contrast in sepia under low-brightness displays, and preview splitter visibility when desktop backgrounds are high-noise images. |
| `DAC-013` | `F` | 6 | `P2` | `DONE` | `DAC-012` | Add shared motion constants and reduced-motion guards for desktop shell interactions | `src/lib/motion.ts`; `src/components/window-content/*`; `src/components/floating-window.tsx` | `npm run typecheck`; `npm run lint` | Done 2026-02-17: added shared shell motion utilities (`src/lib/motion.ts`) and wired reduced-motion guarded transitions into `FloatingWindow`, Finder preview split/hover interactions, Finder item states, and Settings interaction cards. Verify: `npm run typecheck` passed; `npm run lint` passed with existing repository-wide warnings. Risks monitored: reduced-motion preference hydration drift on first paint, preview-width transition jitter during active resize, and remaining non-shell `animate-spin` usage outside this row scope. |
| `DAC-014` | `F` | 6 | `P2` | `DONE` | `DAC-013`, `DAC-009` | Accessibility and performance hardening pass (focus-visible, ring-offset, will-change audit) | `src/app/globals.css`; `src/components/*`; `src/app/layout.tsx` | `npm run typecheck`; `npm run lint`; `npm run test:unit` | Done 2026-02-17: added focus-visible/ring-offset tokenized shell rules in `globals.css`, added pre-hydration appearance bootstrap in root layout to prevent mode flash/default mismatch, and narrowed `will-change` hints in window chrome for drag/resize only. Verify: `npm run typecheck` passed; `npm run lint` passed with existing repository-wide warnings; `npm run test:unit` passed (24 files, 171 tests) when run outside sandbox due websocket-bound tests hanging in sandbox. Risks monitored: bootstrap script hydration timing conflicts, focus ring contrast/visual density regressions in sepia, and overly narrow performance hints under rapid drag-resize interactions. |
| `DAC-015` | `F` | 7 | `P2` | `DONE` | `DAC-014` | Final deletion pass for legacy theme arrays/helpers and stale localStorage key reads | `src/contexts/theme-context.tsx`; `src/components/theme-toggle.tsx`; `src/app/page.tsx` | `npm run typecheck`; `npm run lint`; `npm run docs:guard` | Done 2026-02-17: replaced legacy theme catalog/context mutation paths with appearance-mode compatibility bridge (no legacy localStorage reads), removed dead taskbar toggle feature-flag branches, placed dark/sepia toggle adjacent to clock, and tightened toggle accessibility labels. Verify: `npm run typecheck` passed; `npm run lint` passed with existing repository-wide warnings; `npm run docs:guard` passed. Risks monitored: dormant `useTheme` consumers expecting full legacy theme APIs, signed-in preference sync race on first render, and latent callers relying on mutable window-style semantics. |
| `DAC-016` | `G` | 8 | `P1` | `DONE` | `DAC-015` | Replace Start-button path with top taskbar link IA (`Product`, `Pricing`, `Docs`, `Community`, `Company`, `More`) while keeping right-side utilities intact | `src/app/page.tsx`; `src/components/desktop/*`; `src/components/taskbar/*` | `npm run typecheck`; `npm run lint -- src/app/page.tsx src/components/taskbar`; `npm run test:unit` | Done 2026-02-17: replaced desktop Start-button flow with top link-first taskbar IA and keyboard-accessible dropdown primitives (`src/components/taskbar/top-nav-menu.tsx`), kept right utility rail/clock/cart behavior, and updated floating-window top-bar boundary constraints for top navigation positioning. Verified translation key contract (no fallback masking): shell key set aligns with seeded `ui.start_menu`/`ui.app`/`ui.windows` namespaces and `ontologyTranslations.getMultipleNamespaces` returns expected values. Verify: `npm run typecheck` passed; `npm run lint -- src/app/page.tsx src/components/taskbar` passed with existing repository-wide warnings; `npm run test:unit` passed (25 files, 175 tests). Risks monitored: keyboard focus+escape behavior in dropdown menus, horizontal overflow in the compact top bar, and preserving utility alignment under many open windows. |
| `DAC-017` | `G` | 8 | `P1` | `DONE` | `DAC-016` | Standardize desktop dropdown menus and white document-window content surfaces using one tokenized menu/window treatment (dark + sepia compatible) | `src/components/window-content/*`; `src/components/floating-window.tsx`; `src/app/globals.css` | `npm run typecheck`; `npm run lint`; `npx vitest run tests/unit/finder` | Done 2026-02-17: introduced tokenized desktop menu/document surface variables for dark+sepia (`--desktop-menu-*`, `--window-document-*`), applied unified dropdown styling in top taskbar menus, and switched floating-window content region to a consistent light document surface (`desktop-document-surface`) so wallpaper stays visually distinct from working canvases. Verify: `npm run typecheck` passed; `npm run lint` passed with existing repository-wide warnings; `npx vitest run tests/unit/finder` passed (1 file, 2 tests). Risks monitored: contrast drift where components assume dark content variables, unintentional token bleed into non-shell surfaces, and focus/hover clarity in dropdown interactions. |
| `DAC-018` | `G` | 8 | `P1` | `DONE` | `DAC-017` | Roll out custom icon set for desktop/menu/nav (no emoji glyphs) and apply center-origin open/close motion choreography with reduced-motion fallback | `src/components/icons/*`; `src/components/taskbar/*`; `src/components/floating-window.tsx`; `src/lib/motion.ts` | `npm run typecheck`; `npm run lint`; `npm run test:unit` | Done 2026-02-17: shipped custom shell icon primitives + legacy emoji mapping bridge in `src/components/icons/shell-icons.tsx`, replaced emoji glyph rendering in desktop/mobile nav/menu/window chrome (`src/app/page.tsx`, `src/components/windows-menu.tsx`, `src/components/floating-window.tsx`), and added center-origin open/close choreography with reduced-motion fallback by introducing window close state/timers in `src/hooks/use-window-manager.tsx` and transform+opacity motion in `src/components/floating-window.tsx`. Also converged shell visuals away from Win95 bevel chrome via shared `--window-shell-*`/`--window-titlebar-*` tokens and flat window/tab/action classes in `src/app/globals.css` with sepia aligned to PostHog-like parchment and dark shifted to grayscale black/white. Verify: `npm run typecheck` passed; `npm run lint` passed with existing repository-wide warnings; `npm run test:unit` passed (25 files, 175 tests). Risks monitored: icon fallback gaps for unregistered window IDs, close/reopen timer races under rapid interactions, and contrast drift after dark/sepia token convergence. |
| `DAC-019` | `H` | 9 | `P1` | `DONE` | `DAC-018` | Create shared interior control primitives/tokens for window internals (buttons/inputs/panels/tabs/section headers/helper text) | `src/app/globals.css`; `src/components/window-content/shared/*` | `npm run typecheck`; `npm run lint -- src/app/globals.css src/components/window-content/shared`; `npx vitest run tests/unit/appearance/appearance-context.test.ts` | Done 2026-02-17: added shared interior primitive components in `src/components/window-content/shared/interior-primitives.tsx` and corresponding `desktop-interior-*` token classes in `src/app/globals.css` for buttons, tabs, panels, helper text, inputs/selects/textarea, and tile controls. Verify: `npm run typecheck` passed; `npm run lint -- src/app/globals.css src/components/window-content/shared` passed with existing repository-wide warnings; `npx vitest run tests/unit/appearance/appearance-context.test.ts` passed (6 tests). Risks monitored: token bleed into shell chrome, focus-visible regressions on new primitives, and dark/sepia contrast drift on form controls. |
| `DAC-020` | `H` | 9 | `P1` | `DONE` | `DAC-019` | Migrate Settings + Control Panel interiors to shared primitives (no Win95 beveled internals) while preserving keyboard + translation behavior | `src/components/window-content/settings-window.tsx`; `src/components/window-content/control-panel-window.tsx`; `src/components/window-content/shared/*` | `npm run typecheck`; `npm run lint -- src/components/window-content/settings-window.tsx src/components/window-content/control-panel-window.tsx src/components/window-content/shared`; `npm run test:unit` | Done 2026-02-17: refactored settings/control-panel interiors to `desktop-interior-*` primitives (`InteriorButton`, `InteriorTabButton`, `InteriorTileButton`, `InteriorPanel`, etc.), removed Win95 interior class usage (`retro-button`, `--win95-*` inline surface styling), and replaced emoji-based control glyphs with shell/lucide icons while preserving existing translation namespaces and behaviors (apply/reset, wallpaper media picker, conditional control-panel entries). Verify: `npm run typecheck` passed; `npm run lint -- src/components/window-content/settings-window.tsx src/components/window-content/control-panel-window.tsx src/components/window-content/shared` passed with existing repository-wide warnings; `npm run test:unit` passed (25 files, 175 tests). Risks monitored: settings action regressions, layout density/clipping, and raw namespace key surfacing. |
| `DAC-021` | `H` | 9 | `P1` | `DONE` | `DAC-020` | Migrate launcher/utility interior surfaces (All Apps + related cards/lists) to shared primitives and remove Win95 internals | `src/components/window-content/all-apps-window.tsx`; `src/components/windows-menu.tsx`; `src/components/window-content/shared/*` | `npm run typecheck`; `npm run lint -- src/components/window-content/all-apps-window.tsx src/components/windows-menu.tsx src/components/window-content/shared`; `npm run test:unit` | Done 2026-02-17: migrated all-apps and windows menu controls to shared interior primitives (`InteriorTileButton`, `InteriorButton`, `InteriorPanel`), replaced emoji/icon-string rendering with shell icon mapping (`getWindowIconById`), removed Win95 inline interior styling, and fixed deterministic translation key mapping dependency usage in all-apps callbacks. Verify: `npm run typecheck` passed; `npm run lint -- src/components/window-content/all-apps-window.tsx src/components/windows-menu.tsx src/components/window-content/shared` passed with existing repository-wide warnings; `npm run test:unit` passed (25 files, 175 tests). Risks monitored: app click/open behavior, icon readability in sepia, and hover/focus consistency across launcher/menu items. |
| `DAC-022` | `H` | 9 | `P1` | `DONE` | `DAC-021` | Migrate high-traffic CRUD interiors (CRM + Projects + Invoicing) to shared controls/panels/tabs | `src/components/window-content/crm-window.tsx`; `src/components/window-content/projects-window/*`; `src/components/window-content/invoicing-window/*`; `src/components/window-content/shared/*` | `npm run typecheck`; `npm run lint -- src/components/window-content/crm-window.tsx src/components/window-content/projects-window src/components/window-content/invoicing-window src/components/window-content/shared`; `npm run test:unit` | Done 2026-02-17: migrated CRM shell tabs/view-switchers to shared interior tab primitives, migrated Projects shell/action/search/filter controls to shared primitives, and updated Invoicing shell/tab rails + draft/sealed subtab controls + empty-state iconography to shared interior tokens while preserving existing tab/data behavior. Added a localized TS2589 workaround for invoicing list query typing without changing backend contracts. Verify: `npm run typecheck` passed; `npm run lint -- src/components/window-content/crm-window.tsx src/components/window-content/projects-window src/components/window-content/invoicing-window src/components/window-content/shared` passed with existing repository-wide warnings; `npm run test:unit` passed (25 files, 175 tests). Risks monitored: CRUD action regressions, tab layout density, and lingering `--win95-*` usages in deeper detail surfaces. |
| `DAC-023` | `H` | 9 | `P1` | `IN_PROGRESS` | `DAC-022` | Migrate remaining high-use operational interiors (Payments/Forms/Templates/Workflows/Store) to shared primitives | `src/components/window-content/payments-window.tsx`; `src/components/window-content/forms-window/*`; `src/components/window-content/templates-window/*`; `src/components/window-content/workflows-window/*`; `src/components/window-content/store-window.tsx`; `src/components/window-content/store/*`; `src/components/window-content/shared/*` | `npm run typecheck`; `npm run lint -- src/components/window-content/payments-window.tsx src/components/window-content/forms-window src/components/window-content/templates-window src/components/window-content/workflows-window src/components/window-content/shared`; `npm run test:unit` | Pre-task top risks: (1) deep component tree style regressions, (2) panel/tab compositional breakage, (3) interaction latency from over-styled primitives. Progress 2026-02-17: completed Store dark-mode interior contrast cleanup by migrating store header/surfaces/controls to `desktop-interior-*` + `--window-document-*` tokens and removing remaining Win95 interior gradients in plan/credit sections (`store-window.tsx`, `store-plan-cards.tsx`, `store-credit-section.tsx`). Verify checkpoint: `npm run typecheck` passed; `npx eslint src/components/window-content/store-window.tsx src/components/window-content/store/store-plan-cards.tsx src/components/window-content/store/store-credit-section.tsx` passed; `npm run test:unit` passed (25 files, 176 tests). |
| `DAC-024` | `H` | 9 | `P1` | `PENDING` | `DAC-023` | Lane H hardening: delete remaining Win95 interior usages in migrated scope, run full verification, and sync queue docs | `src/components/window-content/*`; `src/app/globals.css`; `docs/reference_docs/topic_collections/implementation/desktop-appearance-consolidation/*` | `npm run typecheck`; `npm run lint`; `npm run test:unit`; `npm run docs:guard` | Pre-task top risks: (1) deleting styles still used by non-migrated windows, (2) subtle contrast regressions missed by unit tests, (3) queue/doc drift vs actual completion state. |

---

## Current kickoff

- Active task: `DAC-023` (Lane `H`, `IN_PROGRESS`).
- Lane `G` reference baseline: `/Users/foundbrand_001/Development/vc83-com/docs/reference_docs/topic_collections/implementation/desktop-appearance-consolidation/LANE_G_POSTHOG_REFERENCE_NOTES.md`.
