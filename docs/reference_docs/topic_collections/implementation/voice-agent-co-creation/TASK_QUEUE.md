# Voice Agent Co-Creation Task Queue

**Last updated:** 2026-02-19  
**Workstream root:** `/Users/foundbrand_001/Development/vc83-com/docs/reference_docs/topic_collections/implementation/voice-agent-co-creation`  
**Source request:** Build a personal, reusable voice-driven agent co-creation flow (Brain + interview + cross-app assistant) with trust-safe controls.

---

## Queue rules

1. Allowed statuses are only: `READY`, `IN_PROGRESS`, `PENDING`, `BLOCKED`, `DONE`.
2. Only one task may be `IN_PROGRESS` globally unless concurrency rules explicitly allow one per lane.
3. Promote a task from `PENDING` to `READY` only when all dependencies are `DONE`.
4. Selection order is deterministic: highest priority (`P0` -> `P1` -> `P2`) then lowest task ID.
5. If a task is `BLOCKED`, capture blocker details in row `Notes` and continue with next `READY` row.
6. Every task must include explicit verification commands before moving to `DONE`.
7. Keep lane ownership strict to reduce merge conflicts.
8. Sync `INDEX.md`, `MASTER_PLAN.md`, and this file after each completed task.

---

## Verification profiles

| Profile | Command |
|---|---|
| `V-TYPE` | `npm run typecheck` |
| `V-LINT` | `npm run lint` |
| `V-UNIT` | `npm run test:unit` |
| `V-DOCS` | `npm run docs:guard` |
| `V-VOICE-LINT` | `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` |
| `V-VOICE-TEST` | `npx vitest run tests/unit/interview tests/unit/ai` |

---

## Execution lanes

| Lane | Purpose | Primary ownership | Merge-overlap policy |
|---|---|---|---|
| `A` | Baseline + trust-aligned voice co-creation contract | workstream docs + trust taxonomy references | No implementation lanes before `VAC-002` is `DONE` |
| `B` | Voice runtime/provider abstraction and settings | `convex/ai/*`; `convex/integrations/*`; voice runtime modules; settings hooks | Avoid interview copy/flow rewrites in lane `B` |
| `C` | Adaptive interview and save/discard consent UX | `src/components/interview/*`; `convex/ai/interviewRunner.ts` | Avoid shell/menu registration edits in lane `C` |
| `D` | Brain + shell IA integration | `src/app/page.tsx`; `src/hooks/window-registry.tsx`; `src/components/window-content/*` | No provider schema mutations in lane `D` |
| `E` | Reusable cross-app agent co-creation orchestration | shared assistant window/service + handoff flows | Keep trust schema backward compatible |
| `F` | KPI telemetry, thresholds, and rollout guardrails | analytics/trust modules + docs | Starts only after all `P0` rows are `DONE` or `BLOCKED` |
| `G` | Hardening and closeout docs/test pass | cross-cutting tests + docs | Run final docs guard before completion |

---

## Dependency-based status flow

1. Start with lane `A` (`VAC-001`..`VAC-003`).
2. Lane `B` starts after `VAC-002` is `DONE`.
3. Lane `C` starts after `VAC-002` and `VAC-004` are `DONE`.
4. Lane `D` starts after `VAC-007` is `DONE`.
5. Lane `E` starts after `VAC-009` and `VAC-011` are `DONE`.
6. Lane `F` starts only after all `P0` rows are `DONE` or explicitly `BLOCKED`.
7. Lane `G` starts after `VAC-013` is `DONE`.

---

## Task queue

| ID | Lane | Plan | Priority | Status | Depends On | Task | Primary files | Verify | Notes |
|---|---|---:|---|---|---|---|---|---|---|
| `VAC-001` | `A` | 1 | `P0` | `DONE` | - | Baseline audit: current Brain/interview/assistant voice capabilities, save/discard behavior, and trust contract fit gaps | `src/components/interview/*`; `src/components/window-content/brain-window/*`; `src/components/window-content/ai-chat-window/*`; `convex/ai/interviewRunner.ts`; trust docs | `V-DOCS` | Done 2026-02-19: baseline captured in `MASTER_PLAN.md` with evidence-backed gap matrix. Risk checks before completion: preserve no-preconsent-write guarantees, avoid missing hidden voice entry paths, and preserve `trust-artifacts.v1` compatibility assumptions. Verify: `npm run docs:guard` (pass). |
| `VAC-002` | `A` | 1 | `P0` | `DONE` | `VAC-001` | Define voice co-creation contract (session states, save boundaries, consent checkpoints, artifact mapping, window IA) | `/Users/foundbrand_001/Development/vc83-com/docs/reference_docs/topic_collections/implementation/voice-agent-co-creation/MASTER_PLAN.md`; relevant trust docs | `V-DOCS` | Done 2026-02-19: locked deterministic contract in `MASTER_PLAN.md` for state transitions, save/discard boundaries, consent checkpoints, `trust-artifacts.v1` compatibility, and window IA expectations. Pre-task ATX baseline confirmation: `ATX-014` remains `DONE`, `trust-artifacts.v1` runtime/UI shape unchanged, trust taxonomy validation still deterministic. Risk checks before completion: prevent implicit saves, prevent artifact schema drift, and prevent non-deterministic shell entry definitions. Verify: `npm run docs:guard` (pass). |
| `VAC-003` | `A` | 1 | `P1` | `DONE` | `VAC-002` | Extend trust telemetry taxonomy for voice session lifecycle and adaptive-flow decisions | `convex/ai/trustEvents.ts`; telemetry modules; unit tests | `V-TYPE`; `V-LINT`; `V-UNIT` | Done 2026-02-19: added deterministic voice taxonomy events (`trust.voice.session_transition.v1`, `trust.voice.adaptive_flow_decision.v1`, `trust.voice.runtime_failover_triggered.v1`) with required payload schema contracts, mode gating, and test coverage (`trustEventTaxonomy.test.ts`). Added voice source-event export in `convex/ai/trustTelemetry.ts` for downstream KPI mapping. Risk checks before completion: enforce strict payload contracts, preserve existing taxonomy compatibility, and keep versioned deterministic names. Verify: `npm run typecheck` failed on pre-existing non-lane issues in `convex/ai/agentSessions.ts` (route identity typing); `npm run lint` failed on pre-existing non-lane parse error in `src/components/window-content/web-publishing-window/webchat-deployment-tab.tsx` plus existing warnings; `npm run test:unit` passed (`76` files, `388` tests). |
| `VAC-004` | `B` | 2 | `P0` | `DONE` | `VAC-002` | Implement provider-agnostic voice runtime adapter (session open/close, STT/TTS transport, health status) | `convex/ai/*`; runtime adapters; `src/hooks/*` | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT` | Done 2026-02-19: added typed adapter contract in `convex/ai/voiceRuntimeAdapter.ts` with provider-agnostic session open/close, STT/TTS transport, and health probes; added runtime orchestration actions in `convex/ai/voiceRuntime.ts`; added frontend runtime hook in `src/hooks/use-voice-runtime.ts`; added adapter coverage in `tests/unit/ai/voiceRuntimeAdapter.test.ts`. Risk checks before completion: prevent provider-logic leakage outside adapter contract, preserve deterministic voice telemetry fields for auditability, and avoid implicit persistence-state side effects during runtime open/close. Verify: `npm run typecheck` (pass), `npm run lint` (pass with existing warnings), `npm run test:unit` (pass: `79` files, `408` tests), `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` (pass with existing warnings). |
| `VAC-005` | `B` | 2 | `P1` | `DONE` | `VAC-004` | Add ElevenLabs provider integration path and provider health/test probes | `convex/integrations/*`; provider config modules; settings surfaces | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT` | Done 2026-02-19: completed org-level ElevenLabs integration path with auth-scoped settings persistence (`get/save`), deterministic provider health probe action, and AI settings UI wiring for enable/key/base URL/default voice/test controls. Added explicit fallback documentation in UI: degraded/offline/missing-key paths deterministically fall back to browser voice adapter behavior. Risk checks before completion: enforce org/session credential boundaries, prevent partial enabled state without deterministic fallback semantics, and keep provider test probe results explicit (healthy/degraded/offline). Verify: `npm run typecheck` (pass), `npm run lint` (pass with existing warnings), `npm run test:unit` (pass: `80` files, `413` tests), `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` (pass with existing warnings). |
| `VAC-006` | `B` | 2 | `P1` | `DONE` | `VAC-004` | Add user voice selection and preview controls (with deterministic persistence policy) | `src/components/interview/*`; settings windows; user preference hooks | `V-TYPE`; `V-LINT`; `V-VOICE-LINT`; `V-UNIT` | Done 2026-02-19: added deterministic user voice preference persistence in `userPreferences` (`voiceRuntimeProviderId`, `voiceRuntimeVoiceId`, `voiceRuntimePreviewText`) with schema and helper resolution defaults; added reusable hook `src/hooks/use-voice-preferences.ts`; wired interview voice controls + preview in `src/components/interview/interview-runner.tsx` using runtime adapter preview calls and saved user preferences. Deterministic selection order documented in UI and behavior: user preference -> org default voice -> browser fallback on degraded provider health. Risk checks before completion: prevent non-deterministic user/org override ordering, keep fallback explicit during preview/runtime degradation, and avoid ambiguous empty preference persistence semantics. Verify: `npm run typecheck` (pass), `npm run lint` (pass with existing warnings), `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` (pass with existing warnings), `npm run test:unit` (pass: `80` files, `417` tests). |
| `VAC-007` | `C` | 3 | `P0` | `DONE` | `VAC-002`, `VAC-004` | Replace rigid interview framing with adaptive micro-session flow and progressive prompts | `src/components/interview/*`; `convex/ai/interviewRunner.ts`; seed templates | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT`; `V-VOICE-TEST` | Done 2026-02-19: replaced rigid interview framing with adaptive micro-session context (`microSessionLabel`, progressive prompts, consent checkpoint timeline), added trust-safe early phase advance logic gated by required-field coverage, and updated interview template/selector copy for progressive micro-sessions. Added adaptive helper tests in `tests/unit/interview/adaptiveInterviewFlow.test.ts`. Risk checks before completion: prevent required trust field loss during early-advance, keep source mapping deterministic for every extracted field, and preserve no-write-before-consent invariants. Verify: `npm run typecheck` failed on pre-existing non-lane issue in `convex/integrations/aiConnections.ts` (`Parameter 'q' implicitly has an 'any' type`); `npm run lint` passed with existing warnings (`0` errors, `2977` warnings); `npm run test:unit` passed (`83` files, `427` tests); `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` passed with existing warnings (`0` errors, `613` warnings); `npx vitest run tests/unit/interview tests/unit/ai` passed (`53` files, `244` tests). |
| `VAC-008` | `C` | 3 | `P0` | `DONE` | `VAC-007` | Implement explicit cancel/discard/resume UX, including discard confirmation and no-write guarantees | `src/components/interview/*`; `convex/ai/interviewRunner.ts`; persistence helpers | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT`; `V-VOICE-TEST` | Done 2026-02-19: added explicit lifecycle-backed pause/resume/discard semantics with new backend mutations (`pauseInterviewSession`, `discardInterviewSession`), lifecycle state persistence (`sessionLifecycle`) in interview schemas, and discard-safe cleanup path for any session-derived Content DNA artifacts. Updated interview runner and consent checkpoint UI with explicit `Pause & Resume`, discard confirmation guardrails, and no-write notice copy. Risk checks before completion: prevent discard path from leaving durable artifacts, prevent pause/resume ambiguity that implies hidden persistence, and preserve consent-gate enforcement before any write. Verify: `npm run typecheck` (pass); `npm run lint` passed with existing warnings (`0` errors, `2974` warnings); `npm run test:unit` passed (`84` files, `431` tests); `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` passed with existing warnings (`0` errors, `617` warnings); `npx vitest run tests/unit/interview tests/unit/ai` passed (`54` files, `248` tests). |
| `VAC-009` | `C` | 3 | `P1` | `DONE` | `VAC-008` | Add voice-aware memory consent summaries and source attribution in adaptive session checkpoints | `src/components/interview/*`; `convex/ai/interviewRunner.ts`; trust artifact rendering | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT`; `V-VOICE-TEST` | Done 2026-02-19: added voice-aware consent summary context (`voiceConsentSummary`) in `convex/ai/interviewRunner.ts` for adaptive sessions, made checkpoint summaries source-attribution-explicit at every checkpoint (`cp0`..`cp3`), and extended interview prompt context to keep attribution policy visible during capture. Updated `src/components/interview/interview-runner.tsx` consent/checkpoint UI with explicit attribution policy + preview rows and a voice-aware consent summary panel. Updated `src/components/interview/interview-results.tsx` trust artifact rendering to surface persisted voice consent summary metadata after save. Added regression assertions in `tests/unit/interview/adaptiveInterviewFlow.test.ts` for active checkpoint + attribution policy prompt context. Risk checks before completion: prevent implicit durable writes before consent acceptance, preserve deterministic field-to-source attribution visibility at every checkpoint, and avoid overexposing transcript content beyond consent preview scope. Verify: `npm run typecheck` (pass); `npm run lint` passed with existing warnings (`0` errors, `2974` warnings); `npm run test:unit` passed (`84` files, `431` tests); `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` passed with existing warnings (`0` errors, `617` warnings); `npx vitest run tests/unit/interview tests/unit/ai` passed (`54` files, `248` tests). |
| `VAC-010` | `D` | 4 | `P0` | `DONE` | `VAC-007` | Ensure Brain voice entry exists in Product menu and All Apps with updated interior shell design contract | `src/app/page.tsx`; `src/components/window-content/all-apps-window.tsx`; `src/hooks/window-registry.tsx`; Brain UI files | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT` | Done 2026-02-19: added `brain-voice` discoverability across Product OS and All Apps by extending catalog metadata, shell icon mappings, and launch wiring in `page.tsx`, `all-apps-window.tsx`, and `window-registry.tsx`. Brain voice now opens the shared Brain learn-mode surface and uses canonical shell iconography (`ShellBrainIcon`) with no new legacy Win95 interior patterns. Risk checks before completion: prevent hidden/duplicate launch paths, prevent legacy interior styling regressions in updated shell surfaces, and prevent menu/registry metadata drift that could open the wrong voice surface. Verify: `npm run typecheck` (pass), `npm run lint` (pass with existing warnings: `0` errors, `2977` warnings), `npm run test:unit` (pass: `85` files, `438` tests), `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` (pass with existing warnings: `0` errors, `617` warnings). |
| `VAC-011` | `D` | 4 | `P1` | `DONE` | `VAC-010` | Create reusable voice assistant window/service contract for multi-app reuse | `src/components/window-content/ai-chat-window/*`; shell hooks/registry; shared runtime modules | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT` | Done 2026-02-19: introduced shared voice assistant contract modules (`src/lib/voice-assistant/window-contract.ts`, `src/components/window-content/ai-chat-window/voice-assistant-contract.ts`) and refactored launcher/registry paths to consume one metadata + service contract for `ai-assistant` and `brain-voice`. Unified window sizing/title/icon/position and launch routing in `page.tsx`, `all-apps-window.tsx`, and `window-registry.tsx` to avoid per-window orchestration forks. Risk checks before completion: prevent multiple runtime launch forks, prevent contract drift between shell/open/restore paths, and preserve deterministic identity cues for active voice surfaces. Verify: `npm run typecheck` failed on pre-existing non-lane typing issues in `convex/ai/agentExecution.ts` (org model policy typing mismatch and `unknown` provider profiles), `npm run lint` (pass with existing warnings: `0` errors, `2981` warnings), `npm run test:unit` (pass: `86` files, `442` tests), `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` (pass with existing warnings: `0` errors, `619` warnings). |
| `VAC-012` | `E` | 5 | `P1` | `DONE` | `VAC-009`, `VAC-011` | Implement ongoing agent co-creation loop from live voice sessions (`agent for this` orchestration + handoff) | interview + agents windows; handoff orchestrators; trust artifacts plumbing | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-VOICE-LINT`; `V-VOICE-TEST` | Done 2026-02-19: added deterministic co-creation handoff helper module (`src/lib/voice-assistant/agent-co-creation-handoff.ts`) that stages single-use `agent for this` draft payloads from `contentDNAId`, consent metadata, and trust-artifact highlights while keeping `trust-artifacts.v1` unchanged. Updated `src/components/interview/interview-runner.tsx` completion flow with explicit `Agent for this` action that stages the handoff payload and opens `ai-assistant` through the shared voice assistant window contract. Updated AI assistant inputs (`src/components/window-content/ai-chat-window/single-pane/chat-input.tsx`, `src/components/window-content/ai-chat-window/four-pane/chat-input-redesign.tsx`) to consume staged drafts as editable messages (never auto-send) and force review mode (`humanInLoopEnabled`) for explicit operator approval. Added regression coverage in `tests/unit/interview/voiceAgentCoCreationHandoff.test.ts`. Risk checks before completion: prevent autonomous execution before operator review, prevent trust-artifact schema drift, and prevent cross-session handoff leakage via deterministic single-use payload consumption. Verify: `npm run typecheck` (pass); `npm run lint` (pass with existing warnings: `0` errors, `2987` warnings); `npm run test:unit` (pass: `90` files, `459` tests); `npx eslint src/components/interview src/components/window-content/brain-window src/components/window-content/ai-chat-window src/components/window-content/all-apps-window.tsx src/components/taskbar convex/ai convex/integrations` (pass with existing warnings: `0` errors, `624` warnings); `npx vitest run tests/unit/interview tests/unit/ai` (pass: `58` files, `267` tests). |
| `VAC-013` | `F` | 6 | `P0` | `DONE` | `VAC-012` | Finalize voice trust KPI dashboard mappings, baselines, alert thresholds, and rollout gating logic | telemetry modules; unit tests; `/Users/foundbrand_001/Development/vc83-com/docs/reference_docs/topic_collections/implementation/voice-agent-co-creation/MASTER_PLAN.md` | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-DOCS` | Done 2026-02-19: updated `convex/ai/trustTelemetry.ts` with lane-`F` voice KPI definitions, finalized pre-rollout baselines (`0.33`, `0.68`, `0.27`, `0.62`, `0.04`, `0.78`), remapped dashboards (`voice_session_funnel_dashboard`, `voice_runtime_guardrails_dashboard`, `voice_agent_handoff_dashboard`), and locked deterministic rollout gating (`critical=>rollback`, `warning/missing=>hold`, otherwise `proceed`). Added threshold/baseline/test coverage updates in `tests/unit/ai/trustTelemetryDashboards.test.ts` and synced docs in `MASTER_PLAN.md`. Risk checks before completion: prevent threshold-to-event semantic drift, prevent underreaction to runtime-failure/context-loss signals, and prevent docs/code/test threshold mismatch. Verify: `npm run typecheck` failed on pre-existing non-lane errors in `convex/ai/workerPool.ts` (`TS2698` at lines `285` and `346`); `npm run lint` passed with existing warnings (`0` errors, `2991` warnings); `npm run test:unit` passed (`92` files, `469` tests); `npm run docs:guard` passed. |
| `VAC-014` | `G` | 7 | `P1` | `DONE` | `VAC-013` | Hardening and closeout: regression matrix, docs sync, final verification, and release checklist | workstream docs + affected UI/runtime modules | `V-TYPE`; `V-LINT`; `V-UNIT`; `V-DOCS` | Done 2026-02-19: completed lane-`G` hardening closeout with regression matrix + release checklist documented in `MASTER_PLAN.md` and synchronized in `INDEX.md`. Risk checks before completion: prevent implicit pre-consent writes during closeout, prevent docs/verification drift that obscures trust state, and preserve explicit hold/rollback rollout gating. Verify: `npm run typecheck` (pass); `npm run lint` (pass with existing warnings: `0` errors, `2991` warnings); `npm run test:unit` (pass: `92` files, `469` tests); `npm run docs:guard` (pass). |

---

## Current kickoff

- Active task: none (`Lane G` complete through `VAC-014`).
- Next task to execute: none (all lanes complete).
- Immediate objective: lane closeout complete; workstream docs synchronized.
